<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenNSL API Guide and Reference Manual: examples/example_vxlan.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="pages.html"><span>OpenNSL&nbsp;Documentation</span></a></li>
      <li><a href="modules.html"><span>API&nbsp;Reference</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>examples/example_vxlan.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="driver_8h_source.html">sal/driver.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="opennsl_2error_8h_source.html">opennsl/error.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="l2_8h_source.html">opennsl/l2.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="opennsl_2switch_8h_source.html">opennsl/switch.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="vlan_8h_source.html">opennsl/vlan.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="tunnel_8h_source.html">opennsl/tunnel.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="multicast_8h_source.html">opennsl/multicast.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="vxlan_8h_source.html">opennsl/vxlan.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="examples_2util_8h_source.html">examples/util.h</a>&gt;</code><br/>

<p><a href="example__vxlan_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#adbb76aecfc5eef000cb4cb55bc2fd404">DEFAULT_UNIT</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#a91668ed1245d073a2ac84e6121205d28">DEFAULT_VLAN</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#a068278b0838b6670ab0ab0a93ed77484">MAX_DIGITS_IN_CHOICE</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#a6771677c2de7aeda8be146d9068290e3">VXLAN_UDP_DEST_PORT</a>&nbsp;&nbsp;&nbsp;4789</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#a062f7ae8c9c074eec9753297ea4734fb">add_to_l2_table</a> (int unit, <a class="el" href="group__types.html#ga016605921f5a8bd7ed96bb1b6195178a">opennsl_mac_t</a> mac, <a class="el" href="group__types.html#ga6cdac91ca2a0f776faf2ec43ea898ad5">opennsl_vpn_t</a> vpn_id, int port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add L2 entry based on the MAC, VPN and physical port.  <a href="#a062f7ae8c9c074eec9753297ea4734fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main function for VxLAN application.  <a href="#a0ddf1224851353fc92bfbff6f499fa97"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#a8ddc7e204c5da187b95ce791952d4735">vlan_create_add_port</a> (int unit, int vid, int port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create VLAN and add a port to it.  <a href="#a8ddc7e204c5da187b95ce791952d4735"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#afc7d01e6dbea2c820a68fb8081c58a89">example_usage</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__vxlan_8c.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> = 3</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="adbb76aecfc5eef000cb4cb55bc2fd404"></a><!-- doxytag: member="example_vxlan.c::DEFAULT_UNIT" ref="adbb76aecfc5eef000cb4cb55bc2fd404" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_UNIT&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00071">71</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

</div>
</div>
<a class="anchor" id="a91668ed1245d073a2ac84e6121205d28"></a><!-- doxytag: member="example_vxlan.c::DEFAULT_VLAN" ref="a91668ed1245d073a2ac84e6121205d28" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_VLAN&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00072">72</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa93f0eb578d23995850d61f7d61c55c1"></a><!-- doxytag: member="example_vxlan.c::FALSE" ref="aa93f0eb578d23995850d61f7d61c55c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FALSE&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00086">86</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

</div>
</div>
<a class="anchor" id="a068278b0838b6670ab0ab0a93ed77484"></a><!-- doxytag: member="example_vxlan.c::MAX_DIGITS_IN_CHOICE" ref="a068278b0838b6670ab0ab0a93ed77484" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DIGITS_IN_CHOICE&nbsp;&nbsp;&nbsp;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00073">73</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa8cecfc5c5c054d2875c03e77b7be15d"></a><!-- doxytag: member="example_vxlan.c::TRUE" ref="aa8cecfc5c5c054d2875c03e77b7be15d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRUE&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00085">85</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6771677c2de7aeda8be146d9068290e3"></a><!-- doxytag: member="example_vxlan.c::VXLAN_UDP_DEST_PORT" ref="a6771677c2de7aeda8be146d9068290e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VXLAN_UDP_DEST_PORT&nbsp;&nbsp;&nbsp;4789</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00087">87</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a062f7ae8c9c074eec9753297ea4734fb"></a><!-- doxytag: member="example_vxlan.c::add_to_l2_table" ref="a062f7ae8c9c074eec9753297ea4734fb" args="(int unit, opennsl_mac_t mac, opennsl_vpn_t vpn_id, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int add_to_l2_table </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga016605921f5a8bd7ed96bb1b6195178a">opennsl_mac_t</a>&nbsp;</td>
          <td class="paramname"> <em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga6cdac91ca2a0f776faf2ec43ea898ad5">opennsl_vpn_t</a>&nbsp;</td>
          <td class="paramname"> <em>vpn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add L2 entry based on the MAC, VPN and physical port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mac</em>&nbsp;</td><td>[IN] 802.3 MAC address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vpn_id</em>&nbsp;</td><td>[IN] VPN Identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>[IN] Port number</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>OPENNSL_E_XXX OpenNSL API return code </dd></dl>

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00344">344</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

<p>References <a class="el" href="structopennsl__l2__addr__s.html#a3c915015c746bbad9799b9a40a51b829">opennsl_l2_addr_s::flags</a>, <a class="el" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>, <a class="el" href="group__l2.html#ga4b8920c1c3cf4c0c59bf8f0c5890f7c5">opennsl_l2_addr_add()</a>, <a class="el" href="group__l2.html#ga47e819cf5939a8e643ad09505df52071">opennsl_l2_addr_t_init()</a>, <a class="el" href="group__l2.html#ga838d2e1cee40e3ae41cd4a59599dd333">OPENNSL_L2_STATIC</a>, and <a class="el" href="structopennsl__l2__addr__s.html#a7546884120ba8ab5dce9348fd9bd819f">opennsl_l2_addr_s::port</a>.</p>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a><!-- doxytag: member="example_vxlan.c::main" ref="a0ddf1224851353fc92bfbff6f499fa97" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main function for VxLAN application. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc,argv</em>&nbsp;</td><td>commands line arguments</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>OPENNSL_E_XXX OpenNSL API return code </dd></dl>

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00748">748</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

<p>References <a class="el" href="example__bst_8c.html#adbb76aecfc5eef000cb4cb55bc2fd404">DEFAULT_UNIT</a>, <a class="el" href="examples_2util_8h.html#a2846e8ec8f46d212a3ae2493bdff7980">example_port_default_config()</a>, <a class="el" href="examples_2util_8h.html#ad0173c952d5a8af01c14eebabc05b5df">example_read_user_choice()</a>, <a class="el" href="example__bst_8c.html#afc7d01e6dbea2c820a68fb8081c58a89">example_usage</a>, <a class="el" href="sal_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="driver_8h.html#a06a6fe41f5ea8664c461423d3cad0923">opennsl_driver_init()</a>, <a class="el" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>, <a class="el" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a8b380efdb47b4a4b0ebafbb1c7823748">OPENNSL_E_PARAM</a>, and <a class="el" href="group__error.html#ga6d47e9cb22df965b977f3810bdc0ce3e">opennsl_errmsg</a>.</p>

</div>
</div>
<a class="anchor" id="a8ddc7e204c5da187b95ce791952d4735"></a><!-- doxytag: member="example_vxlan.c::vlan_create_add_port" ref="a8ddc7e204c5da187b95ce791952d4735" args="(int unit, int vid, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vlan_create_add_port </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create VLAN and add a port to it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vid</em>&nbsp;</td><td>[IN] VLAN Identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>[IN] Port number</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>OPENNSL_E_XXX OpenNSL API return code </dd></dl>

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00370">370</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

<p>References <a class="el" href="group__error.html#gaa1ed0c76c2846d4d337b3157ff73c823">OPENNSL_IF_ERROR_RETURN</a>, <a class="el" href="group__types.html#gafe134087fe1330ec8fffbe7685f139b8">OPENNSL_PBMP_CLEAR</a>, <a class="el" href="group__types.html#ga7a3934e09536bcaabfdf0f5aefc48411">OPENNSL_PBMP_PORT_ADD</a>, <a class="el" href="group__vlan.html#ga4db9e633ba9c276064768d1718c3062c">opennsl_vlan_create()</a>, and <a class="el" href="group__vlan.html#ga1e7cecaf6718cd174f1b1aef29349340">opennsl_vlan_port_add()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="afc7d01e6dbea2c820a68fb8081c58a89"></a><!-- doxytag: member="example_vxlan.c::example_usage" ref="afc7d01e6dbea2c820a68fb8081c58a89" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="example__vxlan_8c.html#afc7d01e6dbea2c820a68fb8081c58a89">example_usage</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
<span class="stringliteral">&quot;Syntax: example_vxlan                                                 \n\r&quot;</span>
<span class="stringliteral">&quot;                                                                      \n\r&quot;</span>
<span class="stringliteral">&quot;Paramaters: None.                                                     \n\r&quot;</span>
<span class="stringliteral">&quot;                                                                      \n\r&quot;</span>
<span class="stringliteral">&quot;Usage Guidelines: None.                                               \n\r&quot;</span>
</pre></div>
<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00075">75</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0b2caeb4b6f130be43e5a2f0267dd453"></a><!-- doxytag: member="example_vxlan.c::verbose" ref="a0b2caeb4b6f130be43e5a2f0267dd453" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="example__vxlan_8c.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> = 3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example__vxlan_8c_source.html#l00083">83</a> of file <a class="el" href="example__vxlan_8c_source.html">example_vxlan.c</a>.</p>

</div>
</div>
</div>
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->


<!--BEGIN GENERATE_TREEVIEW -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->

<hr>
<p>	
<table class="footer-brcm">
	<tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align=left></td>
		<td class="footer-brcm"><small><b>&copy;  2016 by Broadcom Corporation. All rights reserved.</b></small>
			<div class="footer-brcm"><small>Broadcom Corporation reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design. 
Information furnished by Broadcom Corporation is believed to be accurate and reliable. However, Broadcom Corporation does not assume any liability arising 
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license 
under its patent rights nor the rights of others. </small>
			</div>
		</td>
	</tr>
</table>	
</p>	
	

</div>

<!--END GENERATE_TREEVIEW-->



<!--BEGIN !GENERATE_TREEVIEW-->
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
