<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenNSL API Guide and Reference Manual: examples/dpp/example_field_redirect.c Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen/doxygen_brcm.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenNSL API Guide and Reference Manual
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="pages.html"><span>OpenNSL&#160;Documentation</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">examples/dpp/example_field_redirect.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="example__field__redirect_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*********************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * (C) Copyright Broadcom Corporation 2013-2017</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00006"></a>00006 <span class="comment"> *  you may not use this file except in compliance with the License.</span>
<a name="l00007"></a>00007 <span class="comment"> *  You may obtain a copy of the License at</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> *      http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> *  Unless required by applicable law or agreed to in writing, software</span>
<a name="l00012"></a>00012 <span class="comment"> *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00013"></a>00013 <span class="comment"> *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00014"></a>00014 <span class="comment"> *  See the License for the specific language governing permissions and</span>
<a name="l00015"></a>00015 <span class="comment"> *  limitations under the License.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> **********************************************************************</span>
<a name="l00018"></a>00018 <span class="comment"> *</span>
<a name="l00019"></a>00019 <span class="comment"> * \file         example_field_redirect.c</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> * \brief        OPENNSL example program to demonstrate field processor</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * \details      This example demonstrates redirection of traffic with </span>
<a name="l00024"></a>00024 <span class="comment"> *               destination MAC = MAC_DA to a given destination port </span>
<a name="l00025"></a>00025 <span class="comment"> *               along with the option to display the number of redirected </span>
<a name="l00026"></a>00026 <span class="comment"> *               packets</span>
<a name="l00027"></a>00027 <span class="comment"> *</span>
<a name="l00028"></a>00028 <span class="comment"> **********************************************************************/</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="driver_8h.html">sal/driver.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="opennsl_2error_8h.html">opennsl/error.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="vlan_8h.html">opennsl/vlan.h</a>&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;<a class="code" href="opennsl_2port_8h.html">opennsl/port.h</a>&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;<a class="code" href="field_8h.html">opennsl/field.h</a>&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;<a class="code" href="examples_2util_8h.html">examples/util.h</a>&gt;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="example__field__redirect_8c.html#afc7d01e6dbea2c820a68fb8081c58a89">00039</a> <span class="keywordtype">char</span> <a class="code" href="example__cos_8c.html#afc7d01e6dbea2c820a68fb8081c58a89">example_usage</a>[] =
<a name="l00040"></a>00040 <span class="stringliteral">&quot;Syntax: example_field_redirect                                         \n\r&quot;</span>
<a name="l00041"></a>00041 <span class="stringliteral">&quot;                                                                       \n\r&quot;</span>
<a name="l00042"></a>00042 <span class="stringliteral">&quot;Paramaters: None.                                                      \n\r&quot;</span>
<a name="l00043"></a>00043 <span class="stringliteral">&quot;                                                                       \n\r&quot;</span>
<a name="l00044"></a>00044 <span class="stringliteral">&quot;Example: The following command is used to redirect traffic with        \n\r&quot;</span>
<a name="l00045"></a>00045 <span class="stringliteral">&quot;         destination MAC = MAC_DA to a specified destination port.     \n\r&quot;</span>
<a name="l00046"></a>00046 <span class="stringliteral">&quot;         It also provides an option to display the number of packets   \n\r&quot;</span>
<a name="l00047"></a>00047 <span class="stringliteral">&quot;         redirected to destination port.                               \n\r&quot;</span>
<a name="l00048"></a>00048 <span class="stringliteral">&quot;                                                                       \n\r&quot;</span>
<a name="l00049"></a>00049 <span class="stringliteral">&quot;         example_field_redirect                                        \n\r&quot;</span>
<a name="l00050"></a>00050 <span class="stringliteral">&quot;                                                                       \n\r&quot;</span>
<a name="l00051"></a>00051 <span class="stringliteral">&quot;Usage Guidelines: None.                                                \n\r&quot;</span>;
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="example__field__redirect_8c.html#adbb76aecfc5eef000cb4cb55bc2fd404">00053</a> <span class="preprocessor">#define DEFAULT_UNIT  0</span>
<a name="l00054"></a><a class="code" href="example__field__redirect_8c.html#a6f66e2e70777290cf30e0e71fda4049b">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define NEWCOS_VAL    3</span>
<a name="l00055"></a><a class="code" href="example__field__redirect_8c.html#a074e4c6c5b35a6e7df06fbc024b0760d">00055</a> <span class="preprocessor"></span><span class="preprocessor">#define MAC_DA        {0x00, 0x00, 0x01, 0x00, 0x02, 0x00}</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00057"></a><a class="code" href="example__field__redirect_8c.html#a523822b8d626fa4bcd6cfa36a6d8c0be">00057</a> <span class="preprocessor">#define MAC_MASK      {0xff, 0xff, 0xff, 0xff, 0xff, 0xff}</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00059"></a><a class="code" href="example__field__redirect_8c.html#ad58986525d434255b49d5b9648f1bc4f">00059</a> <span class="preprocessor">#define DEFAULT_STAT_ID 2</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a><a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">00061</a> <a class="code" href="group__field.html#ga4387a1b4682c605fcc1a2b8297f8a404" title="Opaque handle to a field group.">opennsl_field_group_t</a> <a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">grp</a>  = 1;
<a name="l00062"></a><a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">00062</a> <a class="code" href="group__field.html#ga699caff1a232fe42e6668e5d2869e61e" title="Opaque handle to a field entry.">opennsl_field_entry_t</a> <a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">eid</a>  = 0;
<a name="l00063"></a><a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">00063</a> <span class="keywordtype">int</span> <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>                = <a class="code" href="example__field__redirect_8c.html#ad58986525d434255b49d5b9648f1bc4f">DEFAULT_STAT_ID</a>;
<a name="l00064"></a>00064 
<a name="l00065"></a><a class="code" href="example__field__redirect_8c.html#ab30be53fb3407849f0fac2f490911c1f">00065</a> <a class="code" href="group__types.html#ga265033c7aaf6d915b6aa85b49e6ecaf1" title="opennsl_field_stat_e">opennsl_field_stat_t</a> <a class="code" href="example__field__redirect_8c.html#ab30be53fb3407849f0fac2f490911c1f">stats</a> = <a class="code" href="group__types.html#gga4e242bb4676be2d7083bd25738f65aafabfed91ab46d400b0a93afb95034c8b3a" title="Packet count of traffic of all colors.">opennslFieldStatPackets</a>;
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">00067</a> <span class="preprocessor">#define CALL_IF_ERROR_RETURN(op)                              \</span>
<a name="l00068"></a>00068 <span class="preprocessor">  do                                                          \</span>
<a name="l00069"></a>00069 <span class="preprocessor">  {                                                           \</span>
<a name="l00070"></a>00070 <span class="preprocessor">    int __rv__;                                               \</span>
<a name="l00071"></a>00071 <span class="preprocessor">      if ((__rv__ = (op)) &lt; 0) {                              \</span>
<a name="l00072"></a>00072 <span class="preprocessor">        printf(&quot;%s:%s: line %d rv: %d failed: %s\n&quot;,          \</span>
<a name="l00073"></a>00073 <span class="preprocessor">            __FILE__, __FUNCTION__, __LINE__, __rv__,         \</span>
<a name="l00074"></a>00074 <span class="preprocessor">            opennsl_errmsg(__rv__));                          \</span>
<a name="l00075"></a>00075 <span class="preprocessor">      }                                                       \</span>
<a name="l00076"></a>00076 <span class="preprocessor">  } while(0)</span>
<a name="l00077"></a>00077 <span class="preprocessor"></span><span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="comment">/**************************************************************************/</span>
<a name="l00088"></a><a class="code" href="example__field__redirect_8c.html#a66997d4cc10827c7765587c0d6e6c22e">00088</a> <span class="keywordtype">int</span> <a class="code" href="example__field__redirect_8c.html#a66997d4cc10827c7765587c0d6e6c22e" title="Install filters to redirect traffic to a destination port.">example_fp_redirect</a>(<span class="keywordtype">int</span> unit, <span class="keywordtype">int</span> <a class="code" href="example__link__monitor_8c.html#a093e6588ccebeb3bc5396e05f251d838">dport</a>)
<a name="l00089"></a>00089 {
<a name="l00090"></a>00090   <span class="keywordtype">int</span> rv = <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>;
<a name="l00091"></a>00091   <a class="code" href="structopennsl__field__qset__s.html" title="Field qset defines the set of fields used for lookup.">opennsl_field_qset_t</a> qset;
<a name="l00092"></a>00092   <a class="code" href="structopennsl__field__aset__s.html" title="Used to specify the actions that can be taken by the entries in a group.">opennsl_field_aset_t</a> aset;
<a name="l00093"></a>00093   <span class="keywordtype">int</span> pri = <a class="code" href="group__field.html#ga650a60a6b7159e9aaa653f7e0f17c07a">OPENNSL_FIELD_GROUP_PRIO_ANY</a>;
<a name="l00094"></a>00094   <a class="code" href="group__types.html#ga016605921f5a8bd7ed96bb1b6195178a" title="opennsl_mac_t">opennsl_mac_t</a> bpdu_mac_da = <a class="code" href="example__field__redirect_8c.html#a074e4c6c5b35a6e7df06fbc024b0760d">MAC_DA</a>;
<a name="l00095"></a>00095   <a class="code" href="group__types.html#ga016605921f5a8bd7ed96bb1b6195178a" title="opennsl_mac_t">opennsl_mac_t</a> mac_mask = <a class="code" href="example__field__redirect_8c.html#a523822b8d626fa4bcd6cfa36a6d8c0be">MAC_MASK</a>;
<a name="l00096"></a>00096   <span class="keywordtype">int</span> dest_gport;
<a name="l00097"></a>00097   <span class="keywordtype">int</span> cos = <a class="code" href="example__field__redirect_8c.html#a6f66e2e70777290cf30e0e71fda4049b">NEWCOS_VAL</a>;
<a name="l00098"></a>00098 
<a name="l00099"></a>00099   <span class="keywordtype">int</span>                  old_stat_id;
<a name="l00100"></a>00100   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>         counter_proc;
<a name="l00101"></a>00101   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>         counter_id;
<a name="l00102"></a>00102 
<a name="l00104"></a>00104   <a class="code" href="group__field.html#ga37e97efc912030850263af8ef6248443">OPENNSL_FIELD_QSET_INIT</a>(qset);
<a name="l00105"></a>00105   <a class="code" href="group__field.html#gae7dc7300f0a4b3add5d9099b52eaf735">OPENNSL_FIELD_QSET_ADD</a>(qset, <a class="code" href="group__field.html#ggaa519dd558cda3869447bd6e1209b8ce4ab1700b0457705169d5cd3227404761bf" title="Destination L2 MAC Address.">opennslFieldQualifyDstMac</a>);
<a name="l00106"></a>00106 
<a name="l00108"></a>00108   <a class="code" href="group__field.html#gaade393b183413ecfa854bcfe0d4e0da4">OPENNSL_FIELD_ASET_INIT</a>(aset);
<a name="l00109"></a>00109   <a class="code" href="group__field.html#ga069ead7d7b8463459bc9ff678cfe2485">OPENNSL_FIELD_ASET_ADD</a>(aset, <a class="code" href="group__field.html#gga7e4b15dc0ad1411548bfbaff998cb97faa817daee11e7fb405a06bcdd41cac3fb" title="Alias for opennslFieldActionStat0.">opennslFieldActionStat</a>);
<a name="l00110"></a>00110   <a class="code" href="group__field.html#ga069ead7d7b8463459bc9ff678cfe2485">OPENNSL_FIELD_ASET_ADD</a>(aset, <a class="code" href="group__field.html#gga7e4b15dc0ad1411548bfbaff998cb97fa2ee24166694053ca765a31c7304c3153" title="Redirect Packet to single port; param0: Destination modid; param1: Destination port.">opennslFieldActionRedirectPort</a>);
<a name="l00111"></a>00111   <a class="code" href="group__field.html#ga069ead7d7b8463459bc9ff678cfe2485">OPENNSL_FIELD_ASET_ADD</a>(aset, <a class="code" href="group__field.html#gga7e4b15dc0ad1411548bfbaff998cb97fa95782eea1a6b570c973cbabd35fa4f7d" title="Internal priority from arg; param0: New priority.">opennslFieldActionPrioIntNew</a>);
<a name="l00112"></a>00112 
<a name="l00114"></a>00114   <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#gae350cc9d05feaa95dd3e28b1d5ac3b08" title="Create a field group.">opennsl_field_group_create_id</a>(unit, qset, pri, <a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">grp</a>));
<a name="l00115"></a>00115 
<a name="l00116"></a>00116   <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#gaead4ec9137a60ab402a82391bcbfaa83" title="Change or retrieve the actions for a field group.">opennsl_field_group_action_set</a>(unit, <a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">grp</a>, aset));
<a name="l00117"></a>00117 
<a name="l00122"></a>00122   <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#ga17fdce63ec55df5d9733ef9bf10b881c" title="Create a blank field entry.">opennsl_field_entry_create_id</a>(unit, <a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">grp</a>, <a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">eid</a>));
<a name="l00123"></a>00123   <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#gaa95056ca152dd574025fd5aaa9b786bc">opennsl_field_qualify_DstMac</a>(unit, <a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">eid</a>,
<a name="l00124"></a>00124         bpdu_mac_da, mac_mask));
<a name="l00125"></a>00125 
<a name="l00126"></a>00126   <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a> = <a class="code" href="example__field__redirect_8c.html#ad58986525d434255b49d5b9648f1bc4f">DEFAULT_STAT_ID</a>;
<a name="l00127"></a>00127   <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#ga3e7541a4a6cab0e6ed7a98c4f6a4fd7b" title="Create stat collection entity with specified Statistics entity ID value.">opennsl_field_stat_create_id</a>(unit, <a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">grp</a>, 1,
<a name="l00128"></a>00128         &amp;<a class="code" href="example__field__redirect_8c.html#ab30be53fb3407849f0fac2f490911c1f">stats</a>, <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>));
<a name="l00129"></a>00129 
<a name="l00130"></a>00130   <span class="comment">/* Create a counter for core 1 as well */</span>
<a name="l00131"></a>00131   <span class="comment">/* QumranMx has 16 counter processors. We map these processors for</span>
<a name="l00132"></a>00132 <span class="comment">   * use with ingress field processor. By default, we first create</span>
<a name="l00133"></a>00133 <span class="comment">   * counter for core 0. Below we create an equivalent counter for core 1.</span>
<a name="l00134"></a>00134 <span class="comment">   * This code will need to change in the new SDK, because the counter processor</span>
<a name="l00135"></a>00135 <span class="comment">   * will be 4 bits as opposed to 2 bits</span>
<a name="l00136"></a>00136 <span class="comment">   */</span>
<a name="l00137"></a>00137   old_stat_id = <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>;
<a name="l00138"></a>00138   counter_proc = <a class="code" href="group__types.html#gab122636fb8e50da42fe9e380dcdf68aa">OPENNSL_FIELD_STAT_ID_PROCESSOR_GET</a>(<a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>);
<a name="l00139"></a>00139   counter_id = <a class="code" href="group__types.html#ga5b619a55c7053500d4567ceaf0952962">OPENNSL_FIELD_STAT_ID_COUNTER_GET</a>(<a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>);
<a name="l00140"></a>00140   <a class="code" href="group__types.html#gad994edd0df9421deea0e1cc26ea991f1">OPENNSL_FIELD_STAT_ID_SET</a>(<a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>, counter_proc + 1, counter_id);
<a name="l00141"></a>00141 
<a name="l00142"></a>00142   <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#ga3e7541a4a6cab0e6ed7a98c4f6a4fd7b" title="Create stat collection entity with specified Statistics entity ID value.">opennsl_field_stat_create_id</a>(unit, <a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">grp</a>, 1, &amp;<a class="code" href="example__field__redirect_8c.html#ab30be53fb3407849f0fac2f490911c1f">stats</a>, <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>));
<a name="l00143"></a>00143 
<a name="l00144"></a>00144   <span class="comment">/* Restore the old stat id */</span>
<a name="l00145"></a>00145   <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a> = old_stat_id;
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 
<a name="l00149"></a>00149   <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#gab08abe643c27e9880d28748202969035" title="Add an action to a field entry.">opennsl_field_action_add</a>(unit, <a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">eid</a>,
<a name="l00150"></a>00150         <a class="code" href="group__field.html#gga7e4b15dc0ad1411548bfbaff998cb97faa817daee11e7fb405a06bcdd41cac3fb" title="Alias for opennslFieldActionStat0.">opennslFieldActionStat</a>, <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>, 0));
<a name="l00151"></a>00151   <a class="code" href="group__types.html#ga0622ec4146114faa4aab69c4e5265fa6">OPENNSL_GPORT_LOCAL_SET</a>(dest_gport, dport);
<a name="l00152"></a>00152   <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#gab08abe643c27e9880d28748202969035" title="Add an action to a field entry.">opennsl_field_action_add</a>(unit, <a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">eid</a>,
<a name="l00153"></a>00153         <a class="code" href="group__field.html#gga7e4b15dc0ad1411548bfbaff998cb97fa2ee24166694053ca765a31c7304c3153" title="Redirect Packet to single port; param0: Destination modid; param1: Destination port.">opennslFieldActionRedirectPort</a>, 0, dest_gport));
<a name="l00154"></a>00154   <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#gab08abe643c27e9880d28748202969035" title="Add an action to a field entry.">opennsl_field_action_add</a>(unit, <a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">eid</a>,
<a name="l00155"></a>00155         <a class="code" href="group__field.html#gga7e4b15dc0ad1411548bfbaff998cb97fa95782eea1a6b570c973cbabd35fa4f7d" title="Internal priority from arg; param0: New priority.">opennslFieldActionPrioIntNew</a>, cos, 0));
<a name="l00156"></a>00156 
<a name="l00157"></a>00157   rv = <a class="code" href="group__field.html#gacca0f485d7654f4b0fadb2c5eef2a95f" title="Install all entries of a field group into the hardware tables.">opennsl_field_group_install</a>(unit, <a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">grp</a>);
<a name="l00158"></a>00158   <span class="keywordflow">if</span> (<a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a> != rv)
<a name="l00159"></a>00159   {
<a name="l00160"></a>00160     printf(<span class="stringliteral">&quot;Failed to install the group, Error %s\n&quot;</span>, <a class="code" href="group__error.html#ga6d47e9cb22df965b977f3810bdc0ce3e">opennsl_errmsg</a>(rv));
<a name="l00161"></a>00161     <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#gaf6eb893ae0da6d8627843bf01e1c40e8" title="Deallocates a field group.">opennsl_field_group_destroy</a>(unit, <a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">grp</a>));
<a name="l00162"></a>00162     <span class="keywordflow">return</span> rv;
<a name="l00163"></a>00163   }
<a name="l00164"></a>00164 
<a name="l00165"></a>00165   printf(<span class="stringliteral">&quot;Packet qualification criteria: \n&quot;</span>);
<a name="l00166"></a>00166   <a class="code" href="examples_2util_8h.html#a3262fde70495cd6e0f3afd6baf9ae95c" title="To print the MAC address.">l2_print_mac</a>(<span class="stringliteral">&quot; ==&gt; MAC DA -&quot;</span>, bpdu_mac_da);
<a name="l00167"></a>00167   printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00168"></a>00168   printf(<span class="stringliteral">&quot;Configured system to count and redirect qualified traffic to &quot;</span>
<a name="l00169"></a>00169       <span class="stringliteral">&quot;port %d&quot;</span>, dport);
<a name="l00170"></a>00170 
<a name="l00171"></a>00171   <span class="keywordflow">return</span> rv;
<a name="l00172"></a>00172 }
<a name="l00173"></a>00173 <span class="comment">/* __doxy_func_body_end__ */</span>
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="comment">/********************************************************************/</span>
<a name="l00183"></a><a class="code" href="example__field__redirect_8c.html#a0ddf1224851353fc92bfbff6f499fa97">00183</a> <span class="keywordtype">int</span> <a class="code" href="example__cos_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main function for policer application.">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
<a name="l00184"></a>00184 {
<a name="l00185"></a>00185   <span class="keywordtype">int</span> rv = <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>;
<a name="l00186"></a>00186   <span class="keywordtype">int</span> choice;
<a name="l00187"></a>00187   <span class="keywordtype">int</span> unit = <a class="code" href="example__field__redirect_8c.html#adbb76aecfc5eef000cb4cb55bc2fd404">DEFAULT_UNIT</a>;
<a name="l00188"></a>00188   <a class="code" href="sal_2types_8h.html#aa3ad64cf41ec3a042bd92550cc6ed308">uint64</a> val;
<a name="l00189"></a>00189   <a class="code" href="sal_2types_8h.html#aa3ad64cf41ec3a042bd92550cc6ed308">uint64</a> val_1;
<a name="l00190"></a>00190   <span class="keywordtype">int</span> stat_id_1;
<a name="l00191"></a>00191   <span class="keywordtype">int</span> <a class="code" href="opennsl__api_8dox.html#abd1fe5382f13606db566da3450b351b0">port</a>;
<a name="l00192"></a>00192   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> counter_proc;
<a name="l00193"></a>00193   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> counter_id;
<a name="l00194"></a>00194 
<a name="l00195"></a>00195   <span class="keywordflow">if</span>((argc != 1) || ((argc &gt; 1) &amp;&amp; (strcmp(argv[1], <span class="stringliteral">&quot;--help&quot;</span>) == 0))) {
<a name="l00196"></a>00196     printf(<span class="stringliteral">&quot;%s\n\r&quot;</span>, <a class="code" href="example__cos_8c.html#afc7d01e6dbea2c820a68fb8081c58a89">example_usage</a>);
<a name="l00197"></a>00197     <span class="keywordflow">return</span> <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a8b380efdb47b4a4b0ebafbb1c7823748">OPENNSL_E_PARAM</a>;
<a name="l00198"></a>00198   }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   <span class="comment">/* Initialize the system */</span>
<a name="l00201"></a>00201   rv = <a class="code" href="driver_8h.html#a06a6fe41f5ea8664c461423d3cad0923" title="Function to initialize the switch.">opennsl_driver_init</a>((<a class="code" href="structopennsl__config__s.html">opennsl_init_t</a> *) <a class="code" href="sal_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00202"></a>00202 
<a name="l00203"></a>00203   <span class="keywordflow">if</span>(rv != <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>) {
<a name="l00204"></a>00204     printf(<span class="stringliteral">&quot;\r\nFailed to initialize the system.\r\n&quot;</span>);
<a name="l00205"></a>00205     <span class="keywordflow">return</span> rv;
<a name="l00206"></a>00206   }
<a name="l00207"></a>00207 
<a name="l00208"></a>00208   rv = <a class="code" href="examples_2util_8h.html#a2846e8ec8f46d212a3ae2493bdff7980" title="Set default configuration (like STP state, speed/duplex) for all ports.">example_port_default_config</a>(unit);
<a name="l00209"></a>00209   <span class="keywordflow">if</span> (rv != <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>) {
<a name="l00210"></a>00210     printf(<span class="stringliteral">&quot;\r\nFailed to apply default config on ports, rc = %d (%s).\r\n&quot;</span>,
<a name="l00211"></a>00211            rv, <a class="code" href="group__error.html#ga6d47e9cb22df965b977f3810bdc0ce3e">opennsl_errmsg</a>(rv));
<a name="l00212"></a>00212   }
<a name="l00213"></a>00213 
<a name="l00214"></a>00214   <span class="comment">/* Add ports to default vlan. */</span>
<a name="l00215"></a>00215   printf(<span class="stringliteral">&quot;Adding ports to default vlan.\r\n&quot;</span>);
<a name="l00216"></a>00216   rv = <a class="code" href="examples_2util_8h.html#a2d14e4de1f4a7192ac7e378f8f7c63ff" title="Add all ports to default vlan.">example_switch_default_vlan_config</a>(unit);
<a name="l00217"></a>00217   <span class="keywordflow">if</span>(rv != <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>) {
<a name="l00218"></a>00218     printf(<span class="stringliteral">&quot;\r\nFailed to add ports to default VLAN. Error: %s\r\n&quot;</span>,
<a name="l00219"></a>00219         <a class="code" href="group__error.html#ga6d47e9cb22df965b977f3810bdc0ce3e">opennsl_errmsg</a>(rv));
<a name="l00220"></a>00220   }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222   <span class="keywordflow">while</span>(1) {
<a name="l00223"></a>00223     printf(<span class="stringliteral">&quot;\r\nUser menu: Select one of the following options\r\n&quot;</span>);
<a name="l00224"></a>00224     printf(<span class="stringliteral">&quot;1. Apply filter to redirect traffic\n&quot;</span>);
<a name="l00225"></a>00225     printf(<span class="stringliteral">&quot;2. Remove redirection filter\n&quot;</span>);
<a name="l00226"></a>00226     printf(<span class="stringliteral">&quot;3. Display the number of packets redirected\n&quot;</span>);
<a name="l00227"></a>00227 <span class="preprocessor">#ifdef INCLUDE_DIAG_SHELL</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span>    printf(<span class="stringliteral">&quot;9. Launch diagnostic shell\n&quot;</span>);
<a name="l00229"></a>00229 <span class="preprocessor">#endif</span>
<a name="l00230"></a>00230 <span class="preprocessor"></span>    printf(<span class="stringliteral">&quot;0. Quit the application.\r\n&quot;</span>);
<a name="l00231"></a>00231 
<a name="l00232"></a>00232     <span class="keywordflow">if</span>(<a class="code" href="examples_2util_8h.html#ad0173c952d5a8af01c14eebabc05b5df" title="Read numeric menu choice from user.">example_read_user_choice</a>(&amp;choice) != <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>)
<a name="l00233"></a>00233     {
<a name="l00234"></a>00234       printf(<span class="stringliteral">&quot;Invalid option entered. Please re-enter.\n&quot;</span>);
<a name="l00235"></a>00235       <span class="keywordflow">continue</span>;
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237     <span class="keywordflow">switch</span>(choice)
<a name="l00238"></a>00238     {
<a name="l00239"></a>00239       <span class="keywordflow">case</span> 1:
<a name="l00240"></a>00240       {
<a name="l00241"></a>00241         printf(<span class="stringliteral">&quot;Enter port number to which traffic needs to be redirected:\n&quot;</span>);
<a name="l00242"></a>00242         <span class="keywordflow">if</span>(<a class="code" href="examples_2util_8h.html#ad0173c952d5a8af01c14eebabc05b5df" title="Read numeric menu choice from user.">example_read_user_choice</a>(&amp;port) != <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>)
<a name="l00243"></a>00243         {
<a name="l00244"></a>00244           printf(<span class="stringliteral">&quot;Invalid option entered. Please re-enter.\n&quot;</span>);
<a name="l00245"></a>00245           <span class="keywordflow">continue</span>;
<a name="l00246"></a>00246         }
<a name="l00247"></a>00247         rv = <a class="code" href="example__field__redirect_8c.html#a66997d4cc10827c7765587c0d6e6c22e" title="Install filters to redirect traffic to a destination port.">example_fp_redirect</a>(unit, port);
<a name="l00248"></a>00248         <span class="keywordflow">if</span> (rv != <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>) {
<a name="l00249"></a>00249           printf(<span class="stringliteral">&quot;Failed to configure the system for traffic redirection, &quot;</span>
<a name="l00250"></a>00250               <span class="stringliteral">&quot;Error %s\n&quot;</span>, <a class="code" href="group__error.html#ga6d47e9cb22df965b977f3810bdc0ce3e">opennsl_errmsg</a>(rv));
<a name="l00251"></a>00251           <span class="keywordflow">return</span> rv;
<a name="l00252"></a>00252         }
<a name="l00253"></a>00253         <span class="keywordflow">break</span>;
<a name="l00254"></a>00254       }
<a name="l00255"></a>00255 
<a name="l00256"></a>00256       <span class="keywordflow">case</span> 2:
<a name="l00257"></a>00257       {
<a name="l00258"></a>00258         <span class="comment">/* Destroy any attached stat_id before destroying the entry */</span>
<a name="l00259"></a>00259         rv = <a class="code" href="group__field.html#ga00340bd91d3ac5d6c7c826706101bdf8" title="Get statistics entity attached to Field Processor entry.">opennsl_field_entry_stat_get</a>(unit, <a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">eid</a>, &amp;<a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>);
<a name="l00260"></a>00260         <span class="keywordflow">if</span> (rv == <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>)
<a name="l00261"></a>00261         {
<a name="l00262"></a>00262           counter_proc = <a class="code" href="group__types.html#gab122636fb8e50da42fe9e380dcdf68aa">OPENNSL_FIELD_STAT_ID_PROCESSOR_GET</a>(<a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>);
<a name="l00263"></a>00263           counter_id = <a class="code" href="group__types.html#ga5b619a55c7053500d4567ceaf0952962">OPENNSL_FIELD_STAT_ID_COUNTER_GET</a>(<a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>);
<a name="l00264"></a>00264 
<a name="l00265"></a>00265           <a class="code" href="group__field.html#gab6f96fcfb8a1bb69198e2bf768831698" title="Detach statistics entity from Field Processor entry.">opennsl_field_entry_stat_detach</a>(unit, <a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">eid</a>, <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>);
<a name="l00266"></a>00266 
<a name="l00267"></a>00267           <span class="comment">/* stat_id deletion might fail if the stat_id is being shared */</span>
<a name="l00268"></a>00268           (void) <a class="code" href="group__field.html#ga629ec5c3590dab03dc32b1c9e1040f1d" title="Destroy stat collection entity.">opennsl_field_stat_destroy</a>(unit, <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>);
<a name="l00269"></a>00269 
<a name="l00270"></a>00270           <span class="comment">/* Delete Core 1 counter as well, we create identical counters on both cores */</span>
<a name="l00271"></a>00271           <a class="code" href="group__types.html#gad994edd0df9421deea0e1cc26ea991f1">OPENNSL_FIELD_STAT_ID_SET</a>(<a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>, counter_proc + 1, counter_id);
<a name="l00272"></a>00272           (void) <a class="code" href="group__field.html#ga629ec5c3590dab03dc32b1c9e1040f1d" title="Destroy stat collection entity.">opennsl_field_stat_destroy</a>(unit, <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>);
<a name="l00273"></a>00273         }
<a name="l00274"></a>00274 
<a name="l00275"></a>00275         <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#gacd3386a6d5e8c6a75d61b7d6a02d609e" title="Destroy a field entry.">opennsl_field_entry_destroy</a>(unit, <a class="code" href="example__field__redirect_8c.html#aa119e5efc765a81f98d3fe614662ffd2">eid</a>));
<a name="l00276"></a>00276         <a class="code" href="example__field__redirect_8c.html#ad148af3cd81733fec0a4eb2b7bee1071">CALL_IF_ERROR_RETURN</a>(<a class="code" href="group__field.html#gaf6eb893ae0da6d8627843bf01e1c40e8" title="Deallocates a field group.">opennsl_field_group_destroy</a>(unit, <a class="code" href="example__field__redirect_8c.html#ae05d96b029e63f2deae4f883fb46726d">grp</a>));
<a name="l00277"></a>00277         printf(<span class="stringliteral">&quot;Removed the redirection filter\n&quot;</span>);
<a name="l00278"></a>00278         <span class="keywordflow">break</span>;
<a name="l00279"></a>00279       }
<a name="l00280"></a>00280 
<a name="l00281"></a>00281       <span class="keywordflow">case</span> 3:
<a name="l00282"></a>00282       {
<a name="l00283"></a>00283         rv = <a class="code" href="group__field.html#gaf85528d51ba145198ff9be30d597814a" title="Get 64-bit counter value for specific statistic type.">opennsl_field_stat_get</a>(unit, <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a>, <a class="code" href="example__field__redirect_8c.html#ab30be53fb3407849f0fac2f490911c1f">stats</a>, &amp;val);
<a name="l00284"></a>00284         <span class="keywordflow">if</span> (rv != <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>) {
<a name="l00285"></a>00285           printf(<span class="stringliteral">&quot;Failed to get the statistics for core 0, &quot;</span>
<a name="l00286"></a>00286               <span class="stringliteral">&quot;Error %s\n&quot;</span>, <a class="code" href="group__error.html#ga6d47e9cb22df965b977f3810bdc0ce3e">opennsl_errmsg</a>(rv));
<a name="l00287"></a>00287           <span class="keywordflow">return</span> rv;
<a name="l00288"></a>00288         }
<a name="l00289"></a>00289 
<a name="l00290"></a>00290         <span class="comment">/* Get core 1 statistics */</span>
<a name="l00291"></a>00291         stat_id_1 = <a class="code" href="example__field__redirect_8c.html#a31bf8ad94a92b00a66bc7e32e1ba7c98">stat_id</a> | (1 &lt;&lt; 29);
<a name="l00292"></a>00292         rv = <a class="code" href="group__field.html#gaf85528d51ba145198ff9be30d597814a" title="Get 64-bit counter value for specific statistic type.">opennsl_field_stat_get</a>(unit, stat_id_1, <a class="code" href="example__field__redirect_8c.html#ab30be53fb3407849f0fac2f490911c1f">stats</a>, &amp;val_1);
<a name="l00293"></a>00293         <span class="keywordflow">if</span> (rv != <a class="code" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a>) {
<a name="l00294"></a>00294           printf(<span class="stringliteral">&quot;Failed to get the statistics for core 1, &quot;</span>
<a name="l00295"></a>00295               <span class="stringliteral">&quot;Error %s\n&quot;</span>, <a class="code" href="group__error.html#ga6d47e9cb22df965b977f3810bdc0ce3e">opennsl_errmsg</a>(rv));
<a name="l00296"></a>00296           <span class="keywordflow">return</span> rv;
<a name="l00297"></a>00297         }
<a name="l00298"></a>00298         val += val_1;
<a name="l00299"></a>00299         printf(<span class="stringliteral">&quot;Number of packets redirected: %lld (0x%0llx)\n&quot;</span>, val, val);
<a name="l00300"></a>00300 
<a name="l00301"></a>00301         <span class="keywordflow">break</span>;
<a name="l00302"></a>00302       }
<a name="l00303"></a>00303 
<a name="l00304"></a>00304 <span class="preprocessor">#ifdef INCLUDE_DIAG_SHELL</span>
<a name="l00305"></a>00305 <span class="preprocessor"></span>      <span class="keywordflow">case</span> 9:
<a name="l00306"></a>00306       {
<a name="l00307"></a>00307         opennsl_driver_shell();
<a name="l00308"></a>00308         <span class="keywordflow">break</span>;
<a name="l00309"></a>00309       }
<a name="l00310"></a>00310 <span class="preprocessor">#endif</span>
<a name="l00311"></a>00311 <span class="preprocessor"></span>
<a name="l00312"></a>00312       <span class="keywordflow">case</span> 0:
<a name="l00313"></a>00313       {
<a name="l00314"></a>00314         printf(<span class="stringliteral">&quot;Exiting the application.\n&quot;</span>);
<a name="l00315"></a>00315         rv = <a class="code" href="driver_8h.html#aa760e8f1af45c7fd27ec014b82c572f2" title="Function to free up the resources and exit the driver.">opennsl_driver_exit</a>();
<a name="l00316"></a>00316         <span class="keywordflow">return</span> rv;
<a name="l00317"></a>00317       }
<a name="l00318"></a>00318       <span class="keywordflow">default</span>:
<a name="l00319"></a>00319       <span class="keywordflow">break</span>;
<a name="l00320"></a>00320     } <span class="comment">/* End of switch */</span>
<a name="l00321"></a>00321   } <span class="comment">/* End of while */</span>
<a name="l00322"></a>00322 
<a name="l00323"></a>00323   <span class="keywordflow">return</span> rv;
<a name="l00324"></a>00324 }
<a name="l00325"></a>00325 <span class="comment">/* __doxy_func_body_end__ */</span>
</pre></div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->


<!--BEGIN GENERATE_TREEVIEW -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->

<hr>
<p>	
<table class="footer-brcm">
	<tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align=left></td>
		<td class="footer-brcm"><small><b>&copy;  2016-17 by Broadcom Limited. All rights reserved.</b></small>
			<div class="footer-brcm"><small>Broadcom Limited reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design. 
Information furnished by Broadcom Limited is believed to be accurate and reliable. However, Broadcom Limited does not assume any liability arising 
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license 
under its patent rights nor the rights of others. </small>
			</div>
		</td>
	</tr>
</table>	
</p>	
	

</div>

<!--END GENERATE_TREEVIEW-->





</body>
</html>
