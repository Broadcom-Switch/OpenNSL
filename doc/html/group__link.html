<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenNSL API Guide and Reference Manual: Link monitoring and notification</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="pages.html"><span>OpenNSL&nbsp;Documentation</span></a></li>
      <li><a href="modules.html"><span>API&nbsp;Reference</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Link monitoring and notification</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Files</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="link_8h.html">link.h</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="linkX_8h.html">linkX.h</a></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#ga6fb64b7732d1ead678d47faf67065f75">opennsl_linkscan_handler_t</a> )(int unit, <a class="el" href="group__types.html#gacaeba2b4ddbc89b0e556720a9388885f">opennsl_port_t</a> port, <a class="el" href="structopennsl__port__info__s.html">opennsl_port_info_t</a> *info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <br class="typebreak"/>
<a class="el" href="group__link.html#ga09ea64aace464cf0b4cec10763102b5f">opennsl_linkscan_mode_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#ga917f5c601ba01bd0105bba3e986fd2aa">opennsl_linkscan_mode_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">opennsl_linkscan_mode_e  <a href="#ga917f5c601ba01bd0105bba3e986fd2aa"></a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#ga09ea64aace464cf0b4cec10763102b5f">opennsl_linkscan_mode_e</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__link.html#gga09ea64aace464cf0b4cec10763102b5faf31a1f2adafdbc48c3091433c5547fc8">OPENNSL_LINKSCAN_MODE_NONE</a> =  0, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__link.html#gga09ea64aace464cf0b4cec10763102b5fa85193be37417b622791110c618ab6c6b">OPENNSL_LINKSCAN_MODE_SW</a> =  1, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__link.html#gga09ea64aace464cf0b4cec10763102b5fa1a5b2c146ab2bb73ecdef93b14799da8">OPENNSL_LINKSCAN_MODE_HW</a> =  2, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__link.html#gga09ea64aace464cf0b4cec10763102b5fa2b58c985434787b4544668740b37fa2a">OPENNSL_LINKSCAN_MODE_COUNT</a> =  3
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>opennsl_linkscan_mode_e </p>
 <a href="group__link.html#ga09ea64aace464cf0b4cec10763102b5f">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#gad787da977d58359ae4f301292c29e8e6">opennsl_linkscan_detach</a> (int unit) LIB_DLL_EXPORTED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Terminate linkscan on the specified unit.  <a href="#gad787da977d58359ae4f301292c29e8e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#ga37a9967026a86f93ffa43b7023a4de46">opennsl_linkscan_enable_get</a> (int unit, int *us) LIB_DLL_EXPORTED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable and disable link scanning or set the polling interval.  <a href="#ga37a9967026a86f93ffa43b7023a4de46"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#ga7cd477fb4c2392ee03fa6a1d7238c45c">opennsl_linkscan_enable_set</a> (int unit, int us) LIB_DLL_EXPORTED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable and disable link scanning or set the polling interval.  <a href="#ga7cd477fb4c2392ee03fa6a1d7238c45c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#ga7232be7808ce4ebe7f46d3184a896206">opennsl_linkscan_mode_get</a> (int unit, <a class="el" href="group__types.html#gacaeba2b4ddbc89b0e556720a9388885f">opennsl_port_t</a> port, int *mode) LIB_DLL_EXPORTED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get or set the link scanning mode for a port.  <a href="#ga7232be7808ce4ebe7f46d3184a896206"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#gaecddd0fa3234bd5ab6b952cef2c7adb7">opennsl_linkscan_mode_set</a> (int unit, <a class="el" href="group__types.html#gacaeba2b4ddbc89b0e556720a9388885f">opennsl_port_t</a> port, int mode) LIB_DLL_EXPORTED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get or set the link scanning mode for a port.  <a href="#gaecddd0fa3234bd5ab6b952cef2c7adb7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#gab728f98f475f584a3e311a05c6630fdf">opennsl_linkscan_mode_set_pbm</a> (int unit, <a class="el" href="struct__shr__pbmp.html">opennsl_pbmp_t</a> pbm, int mode) LIB_DLL_EXPORTED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get or set the link scanning mode for a port.  <a href="#gab728f98f475f584a3e311a05c6630fdf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#gaf7f45f2780d6f1965cf9874b0b0e6228">opennsl_linkscan_register</a> (int unit, <a class="el" href="group__link.html#ga6fb64b7732d1ead678d47faf67065f75">opennsl_linkscan_handler_t</a> f) LIB_DLL_EXPORTED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register and unregister link notification callouts.  <a href="#gaf7f45f2780d6f1965cf9874b0b0e6228"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link.html#ga0ad9802d5638d6f480026e40c8b79fba">opennsl_linkscan_unregister</a> (int unit, <a class="el" href="group__link.html#ga6fb64b7732d1ead678d47faf67065f75">opennsl_linkscan_handler_t</a> f) LIB_DLL_EXPORTED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register and unregister link notification callouts.  <a href="#ga0ad9802d5638d6f480026e40c8b79fba"></a><br/></td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga6fb64b7732d1ead678d47faf67065f75"></a><!-- doxytag: member="link.h::opennsl_linkscan_handler_t" ref="ga6fb64b7732d1ead678d47faf67065f75" args=")(int unit, opennsl_port_t port, opennsl_port_info_t *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="group__link.html#ga6fb64b7732d1ead678d47faf67065f75">opennsl_linkscan_handler_t</a>)(int unit, <a class="el" href="group__types.html#gacaeba2b4ddbc89b0e556720a9388885f">opennsl_port_t</a> port, <a class="el" href="structopennsl__port__info__s.html">opennsl_port_info_t</a> *info)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="link_8h_source.html#l00030">30</a> of file <a class="el" href="link_8h_source.html">link.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga917f5c601ba01bd0105bba3e986fd2aa"></a><!-- doxytag: member="link.h::opennsl_linkscan_mode_t" ref="ga917f5c601ba01bd0105bba3e986fd2aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__link.html#ga09ea64aace464cf0b4cec10763102b5f">opennsl_linkscan_mode_e</a>  <a class="el" href="group__link.html#ga917f5c601ba01bd0105bba3e986fd2aa">opennsl_linkscan_mode_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>opennsl_linkscan_mode_e </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga09ea64aace464cf0b4cec10763102b5f"></a><!-- doxytag: member="link.h::opennsl_linkscan_mode_e" ref="ga09ea64aace464cf0b4cec10763102b5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__link.html#ga09ea64aace464cf0b4cec10763102b5f">opennsl_linkscan_mode_e</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>opennsl_linkscan_mode_e </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga09ea64aace464cf0b4cec10763102b5faf31a1f2adafdbc48c3091433c5547fc8"></a><!-- doxytag: member="OPENNSL_LINKSCAN_MODE_NONE" ref="gga09ea64aace464cf0b4cec10763102b5faf31a1f2adafdbc48c3091433c5547fc8" args="" -->OPENNSL_LINKSCAN_MODE_NONE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga09ea64aace464cf0b4cec10763102b5fa85193be37417b622791110c618ab6c6b"></a><!-- doxytag: member="OPENNSL_LINKSCAN_MODE_SW" ref="gga09ea64aace464cf0b4cec10763102b5fa85193be37417b622791110c618ab6c6b" args="" -->OPENNSL_LINKSCAN_MODE_SW</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga09ea64aace464cf0b4cec10763102b5fa1a5b2c146ab2bb73ecdef93b14799da8"></a><!-- doxytag: member="OPENNSL_LINKSCAN_MODE_HW" ref="gga09ea64aace464cf0b4cec10763102b5fa1a5b2c146ab2bb73ecdef93b14799da8" args="" -->OPENNSL_LINKSCAN_MODE_HW</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga09ea64aace464cf0b4cec10763102b5fa2b58c985434787b4544668740b37fa2a"></a><!-- doxytag: member="OPENNSL_LINKSCAN_MODE_COUNT" ref="gga09ea64aace464cf0b4cec10763102b5fa2b58c985434787b4544668740b37fa2a" args="" -->OPENNSL_LINKSCAN_MODE_COUNT</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="link_8h_source.html#l00109">109</a> of file <a class="el" href="link_8h_source.html">link.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gad787da977d58359ae4f301292c29e8e6"></a><!-- doxytag: member="link.h::opennsl_linkscan_detach" ref="gad787da977d58359ae4f301292c29e8e6" args="(int unit) LIB_DLL_EXPORTED" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_linkscan_detach </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Terminate linkscan on the specified unit. </p>
<dl class="user"><dt><b>Description</b></dt><dd>Disables link scanning on the specified unit, terminates the linkscan thread, and frees all memory associated with linkscan on the device. All registered handlers are unregistered requiring them to re-register if =opennsl_linkscan_init is called to reinitialize linkscan.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_NONE</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_XXX</em>&nbsp;</td><td>Operation failed, linkscan state is undefined. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga37a9967026a86f93ffa43b7023a4de46"></a><!-- doxytag: member="link.h::opennsl_linkscan_enable_get" ref="ga37a9967026a86f93ffa43b7023a4de46" args="(int unit, int *us) LIB_DLL_EXPORTED" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_linkscan_enable_get </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>us</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable and disable link scanning or set the polling interval. </p>
<dl class="user"><dt><b>Description</b></dt><dd>Calling opennsl_linkscan_enable_set with a non-zero scanning interval sets the scan interval starts the linkscan task if required. If the specified interval is zero, the linkscan task is stopped. For this reason, it is required to have link scan enabled and running with a non-zero interval even if all ports are operating in hardware linkscan mode. opennsl_linkscan_enable_get returns the current scan interval. A returned scan interval of 0 indicates linkscan is disabled.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>us</em>&nbsp;</td><td>[OUT] (for _set) Minimum time between software link scan cycles in micro-seconds. 0 indicates linkscan is disabled.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_NONE</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_MEMORY</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_XXX</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7cd477fb4c2392ee03fa6a1d7238c45c"></a><!-- doxytag: member="link.h::opennsl_linkscan_enable_set" ref="ga7cd477fb4c2392ee03fa6a1d7238c45c" args="(int unit, int us) LIB_DLL_EXPORTED" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_linkscan_enable_set </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>us</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable and disable link scanning or set the polling interval. </p>
<dl class="user"><dt><b>Description</b></dt><dd>Calling opennsl_linkscan_enable_set with a non-zero scanning interval sets the scan interval starts the linkscan task if required. If the specified interval is zero, the linkscan task is stopped. For this reason, it is required to have link scan enabled and running with a non-zero interval even if all ports are operating in hardware linkscan mode. opennsl_linkscan_enable_get returns the current scan interval. A returned scan interval of 0 indicates linkscan is disabled.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>us</em>&nbsp;</td><td>[IN] (for _set) Minimum time between software link scan cycles in micro-seconds. 0 indicates linkscan is disabled.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_NONE</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_MEMORY</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_XXX</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7232be7808ce4ebe7f46d3184a896206"></a><!-- doxytag: member="link.h::opennsl_linkscan_mode_get" ref="ga7232be7808ce4ebe7f46d3184a896206" args="(int unit, opennsl_port_t port, int *mode) LIB_DLL_EXPORTED" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_linkscan_mode_get </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gacaeba2b4ddbc89b0e556720a9388885f">opennsl_port_t</a>&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get or set the link scanning mode for a port. </p>
<dl class="user"><dt><b>Description</b></dt><dd>Get or set the current link scanning mode for a port. The possible modes for a port are described in table =OPENNSL_LINKSCAN_MODE_e . When a port is set to OPENNSL_LINKSCAN_MODE_NONE, linkscan does not process any link change on a port. This mode is only recommended if the application do not want to use the port (i.e. port is disabled). opennsl_linkscan_mode_set operates on one port while opennsl_linkscan_mode_set_pbm operates on all ports specified in the port bit map. When operating on a port bit map, a failure on any one port aborts the processing of the request and the link scan mode of all the ports specified is undefined. Ports not in the port bit map are unaffected. The use of opennsl_linkscan_mode_set_pbm is not recommended.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>[IN] Device port number to set or get the mode of </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>[OUT] (for _set and _set_pbm) Link scan mode, see table =OPENNSL_LINKSCAN_MODE_e .</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_NONE</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_PORT</em>&nbsp;</td><td>Invalid port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_PARAM</em>&nbsp;</td><td>Invalid mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_UNAVAIL</em>&nbsp;</td><td>Mode requested is not support </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_XXX</em>&nbsp;</td><td>Operation failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaecddd0fa3234bd5ab6b952cef2c7adb7"></a><!-- doxytag: member="link.h::opennsl_linkscan_mode_set" ref="gaecddd0fa3234bd5ab6b952cef2c7adb7" args="(int unit, opennsl_port_t port, int mode) LIB_DLL_EXPORTED" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_linkscan_mode_set </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gacaeba2b4ddbc89b0e556720a9388885f">opennsl_port_t</a>&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get or set the link scanning mode for a port. </p>
<dl class="user"><dt><b>Description</b></dt><dd>Get or set the current link scanning mode for a port. The possible modes for a port are described in table =OPENNSL_LINKSCAN_MODE_e . When a port is set to OPENNSL_LINKSCAN_MODE_NONE, linkscan does not process any link change on a port. This mode is only recommended if the application do not want to use the port (i.e. port is disabled). opennsl_linkscan_mode_set operates on one port while opennsl_linkscan_mode_set_pbm operates on all ports specified in the port bit map. When operating on a port bit map, a failure on any one port aborts the processing of the request and the link scan mode of all the ports specified is undefined. Ports not in the port bit map are unaffected. The use of opennsl_linkscan_mode_set_pbm is not recommended.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>[IN] Device port number to set or get the mode of </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>[IN] (for _set and _set_pbm) Link scan mode, see table =OPENNSL_LINKSCAN_MODE_e .</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_NONE</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_PORT</em>&nbsp;</td><td>Invalid port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_PARAM</em>&nbsp;</td><td>Invalid mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_UNAVAIL</em>&nbsp;</td><td>Mode requested is not support </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_XXX</em>&nbsp;</td><td>Operation failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab728f98f475f584a3e311a05c6630fdf"></a><!-- doxytag: member="link.h::opennsl_linkscan_mode_set_pbm" ref="gab728f98f475f584a3e311a05c6630fdf" args="(int unit, opennsl_pbmp_t pbm, int mode) LIB_DLL_EXPORTED" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_linkscan_mode_set_pbm </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__shr__pbmp.html">opennsl_pbmp_t</a>&nbsp;</td>
          <td class="paramname"> <em>pbm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get or set the link scanning mode for a port. </p>
<dl class="user"><dt><b>Description</b></dt><dd>Get or set the current link scanning mode for a port. The possible modes for a port are described in table =OPENNSL_LINKSCAN_MODE_e . When a port is set to OPENNSL_LINKSCAN_MODE_NONE, linkscan does not process any link change on a port. This mode is only recommended if the application do not want to use the port (i.e. port is disabled). opennsl_linkscan_mode_set operates on one port while opennsl_linkscan_mode_set_pbm operates on all ports specified in the port bit map. When operating on a port bit map, a failure on any one port aborts the processing of the request and the link scan mode of all the ports specified is undefined. Ports not in the port bit map are unaffected. The use of opennsl_linkscan_mode_set_pbm is not recommended.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pbm</em>&nbsp;</td><td>[IN] Port bit map of ports to set the mode on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>[IN] (for _set and _set_pbm) Link scan mode, see table =OPENNSL_LINKSCAN_MODE_e .</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_NONE</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_PORT</em>&nbsp;</td><td>Invalid port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_PARAM</em>&nbsp;</td><td>Invalid mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_UNAVAIL</em>&nbsp;</td><td>Mode requested is not support </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_XXX</em>&nbsp;</td><td>Operation failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf7f45f2780d6f1965cf9874b0b0e6228"></a><!-- doxytag: member="link.h::opennsl_linkscan_register" ref="gaf7f45f2780d6f1965cf9874b0b0e6228" args="(int unit, opennsl_linkscan_handler_t f) LIB_DLL_EXPORTED" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_linkscan_register </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__link.html#ga6fb64b7732d1ead678d47faf67065f75">opennsl_linkscan_handler_t</a>&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register and unregister link notification callouts. </p>
<dl class="user"><dt><b>Description</b></dt><dd>Register a handler invoked on a link up or link down transition. If multiple handlers are registered, they are invoked on a link transition in the same order as they were registered. The behavior of registering the same callout more than once is undefined. If an application chooses to perform custom port configurations which bypass API functions, such custom operations may need to be repeated whenever a port's link comes up. Consult a Field Application Engineer for guidance.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>[IN] OPENNSL callback function pointer (see =opennsl_linkscan_handler_t)</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_NONE</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_MEMORY</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0ad9802d5638d6f480026e40c8b79fba"></a><!-- doxytag: member="link.h::opennsl_linkscan_unregister" ref="ga0ad9802d5638d6f480026e40c8b79fba" args="(int unit, opennsl_linkscan_handler_t f) LIB_DLL_EXPORTED" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_linkscan_unregister </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__link.html#ga6fb64b7732d1ead678d47faf67065f75">opennsl_linkscan_handler_t</a>&nbsp;</td>
          <td class="paramname"> <em>f</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register and unregister link notification callouts. </p>
<dl class="user"><dt><b>Description</b></dt><dd>Register a handler invoked on a link up or link down transition. If multiple handlers are registered, they are invoked on a link transition in the same order as they were registered. The behavior of registering the same callout more than once is undefined. If an application chooses to perform custom port configurations which bypass API functions, such custom operations may need to be repeated whenever a port's link comes up. Consult a Field Application Engineer for guidance.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unit</em>&nbsp;</td><td>[IN] Unit number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>[IN] OPENNSL callback function pointer (see =opennsl_linkscan_handler_t)</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_NONE</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPENNSL_E_MEMORY</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->


<!--BEGIN GENERATE_TREEVIEW -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->

<hr>
<p>	
<table class="footer-brcm">
	<tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align=left></td>
		<td class="footer-brcm"><small><b>&copy;  2016 by Broadcom Corporation. All rights reserved.</b></small>
			<div class="footer-brcm"><small>Broadcom Corporation reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design. 
Information furnished by Broadcom Corporation is believed to be accurate and reliable. However, Broadcom Corporation does not assume any liability arising 
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license 
under its patent rights nor the rights of others. </small>
			</div>
		</td>
	</tr>
</table>	
</p>	
	

</div>

<!--END GENERATE_TREEVIEW-->



<!--BEGIN !GENERATE_TREEVIEW-->
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
